"use strict";var SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},toggleFilter=function(e){},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";
return d},SCHEDULE_LINK="//vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{},venues:{}},venues:{},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.general.venues=t.venues,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];return e=new Date(e),n[e.getMonth()+1]},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay()-1;return n[t]},getTime=function(e){return new Date(e).toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit"})},isToday=function(e){var n=new Date,t=new Date(e);return n.getDate()==t.getDate()?"event__date--today":n.getTime()>t.getTime()?"event__date--obsolete":void 0},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}e&&(i=i.filter(function(n){return n.school===e})),i.forEach(function(e){var n=e.start,r=(e.end,e.school,e.venue,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return n[e]},getVenue=function(e){var n=redux.general.venues;return n[e]},renderVideo=function(e,n){return n?'\n                <div class="event__video video">\n                    <div class="video__hero">Лекция прошла, смотрите видео</div>\n                    <img class="event__pic event__pic--video" src="'+e.pic+'">\n                </div>\n                ':'<img class="event__pic" src="'+e.pic+'">'},renderLecture=function(e){var n=e.school,t=e.name,r=(e.lecturer,e.pic,e.start),i=e.end,c=e.venue,a=(e.id,e.video),s=getLecturer(getVenue(c).lecturer),v="event__date--obsolete"===isToday(r),d='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+n+'">\n                <div class="event__school">'+getSchool(n).name+"</div>\n            </div>\n            "+renderVideo(e,v)+'\n            <div class="event__title">\n                <div class="event__date '+(isToday(r)||"")+'">\n                    <div class="event__date-number">'+new Date(r).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(r)+'</div>\n                </div>\n                <div class="event__text">\n                    '+(v?'<div class="event__name event__name--link" onclick="window.open(\''+a+"')\">"+t+'<svg class="event__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 508.492 508.492"><path d="M504.15 158.24c-2.829-33.848-23.011-76.532-64.487-78.058-115.815-7.787-253.02-9.916-370.933 0-36.582 4.1-61.658 48.659-64.391 82.507-5.784 71.097-5.784 111.557 0 182.654 2.765 33.848 27.206 78.662 64.455 83.365 119.311 7.787 255.849 8.899 370.933 0 36.105-6.261 61.69-49.517 64.455-83.365 5.752-71.129 5.752-116.006-.032-187.103zM190.647 344.199V161.926l158.912 91.152-158.912 91.121z"/></svg></div>':'<div class="event__name">'+t+"</div>")+'\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer" onclick="showLecturer('+getVenue(c).lecturer+')">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--location">\n                            <div class="meta__item meta__item--venue">\n                                <svg class="meta__icon" xmlns="http://www.w3.org/2000/svg" width="430.114" height="430.114" viewBox="0 0 430.114 430.114"><path d="M356.208 107.051c-1.531-5.738-4.64-11.852-6.94-17.205C321.746 23.704 261.611 0 213.055 0 148.054 0 76.463 43.586 66.905 133.427v18.355c0 .766.264 7.647.639 11.089 5.358 42.816 39.143 88.32 64.375 131.136 27.146 45.873 55.314 90.999 83.221 136.106 17.208-29.436 34.354-59.259 51.17-87.933 4.583-8.415 9.903-16.825 14.491-24.857 3.058-5.348 8.9-10.696 11.569-15.672 27.145-49.699 70.838-99.782 70.838-149.104v-20.262c.001-5.347-6.627-24.081-7-25.234zm-141.963 92.142c-19.107 0-40.021-9.554-50.344-35.939-1.538-4.2-1.414-12.617-1.414-13.388v-11.852c0-33.636 28.56-48.932 53.406-48.932 30.588 0 54.245 24.472 54.245 55.06 0 30.587-25.305 55.051-55.893 55.051z"/></svg>\n                                '+getVenue(c).name+'\n                            </div>\n                            <div class="meta__item meta__item--time">'+getTime(r)+"−"+getTime(i)+"</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return d},SCHEDULE_LINK="https://vanyaklimenko.ru/shri-task-1/assets/js/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{}},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;console.log(e),redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь"];return e=new Date(e),n[e.getMonth()]||!1},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay();return n[t]},filterLectures=function(e,n){return e},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}i.forEach(function(e){var n=e.date,r=(e.school,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return e?n[e]:n.all},renderLecture=function(e){var n=e.school,t=e.name,r=e.lecturer,i=e.pic,c=e.date,a=e.venue,s=getLecturer(r),v='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+(n||"all")+'">\n                <div class="event__school">'+getSchool(n)+'</div>\n            </div>\n            <img class="event__pic" src="'+i+'">\n            <div class="event__title">\n                <div class="event__date">\n                    <div class="event__date-number">'+new Date(c).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(c)+'</div>\n                </div>\n                <div class="event__text">\n                    <div class="event__name">'+t+'</div>\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--place">'+a+"</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return v},SCHEDULE_LINK="https://vanyaklimenko.ru/shri-task-1/assets/js/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{}},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;console.log(e),redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь"];return e=new Date(e),n[e.getMonth()]||!1},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay();return n[t]},filterLectures=function(e,n){return e},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}i.forEach(function(e){var n=e.date,r=(e.school,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return e?n[e]:n.all},renderLecture=function(e){var n=e.school,t=e.name,r=e.lecturer,i=e.pic,c=e.date,a=e.venue,s=getLecturer(r),v='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+(n||"all")+'">\n                <div class="event__school">'+getSchool(n)+'</div>\n            </div>\n            <img class="event__pic" src="'+i+'">\n            <div class="event__title">\n                <div class="event__date">\n                    <div class="event__date-number">'+new Date(c).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(c)+'</div>\n                </div>\n                <div class="event__text">\n                    <div class="event__name">'+t+'</div>\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--place">'+a+"</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return v},SCHEDULE_LINK="https://vanyaklimenko.ru/shri-task-1/assets/js/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{}},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;console.log(e),redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь"];return e=new Date(e),n[e.getMonth()]||!1},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay();return n[t]},filterLectures=function(e,n){return e},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}i.forEach(function(e){var n=e.date,r=(e.school,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return e?n[e]:n.all},renderLecture=function(e){var n=e.school,t=e.name,r=e.lecturer,i=e.pic,c=e.date,a=e.venue,s=getLecturer(r),v='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+(n||"all")+'">\n                <div class="event__school">'+getSchool(n)+'</div>\n            </div>\n            <img class="event__pic" src="'+i+'">\n            <div class="event__title">\n                <div class="event__date">\n                    <div class="event__date-number">'+new Date(c).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(c)+'</div>\n                </div>\n                <div class="event__text">\n                    <div class="event__name">'+t+'</div>\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--place">'+a+"</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return v},SCHEDULE_LINK="https://vanyaklimenko.ru/schedule.json",SCHEDULE_DOM=document.querySelector("#schedule"),redux={general:{schools:{},lecturers:{}},schedule:{}},fetchSchedule=function(){return new Promise(function(e,n){fetch(SCHEDULE_LINK).then(function(e){return e.json()}).then(function(n){return e(n)})["catch"](function(e){return n(e)})})};fetchSchedule().then(function(e){var n=e.schedule,t=e.general;console.log(e),redux.general.schools=t.schools,redux.general.lecturers=t.lecturers,redux.schedule=n,renderLectures()});var getMonth=function(e){if(!e)return!1;var n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь"];return e=new Date(e),n[e.getMonth()]||!1},getDayOfTheWeek=function(e){if(!e)return!1;var n=["пн","вт","ср","чт","пт","сб","вс"],t=new Date(e).getDay();return n[t]},filterLectures=function(e,n){return e},renderLectures=function(e){var n=redux.schedule;if(!n)return!1;for(var t={},r=0;r<12;r++)t[r]=[];var i=[];for(var c in n){var a=n[c];i.push(a)}i.forEach(function(e){var n=e.date,r=(e.school,new Date(n).getMonth()),i=renderLecture(e),c=t[r];c.push(i),t[r]=c});for(var s in t){var v=t[s];if(v.length>0){var d=document.createElement("div");d.innerHTML='\n                <div class="schedule__month month month--expanded">\n                    <div class="schedule__title">'+getMonth(s)+"</div>\n                    "+v.join("")+"\n                </div>\n             ",SCHEDULE_DOM.appendChild(d)}}},getLecturer=function(e){var n=redux.general.lecturers,t=n[e];return{name:t.name,company:t.company||"Яндекс",bio:t.bio}},getSchool=function(e){var n=redux.general.schools;return e?n[e]:n.all},renderLecture=function(e){var n=e.school,t=e.name,r=e.lecturer,i=e.pic,c=e.date,a=e.venue,s=getLecturer(r),v='\n        <div class="schedule__event event">\n            <div class="event__header event__header--'+(n||"all")+'">\n                <div class="event__school">'+getSchool(n)+'</div>\n            </div>\n            <img class="event__pic" src="'+i+'">\n            <div class="event__title">\n                <div class="event__date">\n                    <div class="event__date-number">'+new Date(c).getDate()+'</div>\n                    <div class="event__date-week">'+getDayOfTheWeek(c)+'</div>\n                </div>\n                <div class="event__text">\n                    <div class="event__name">'+t+'</div>\n                    <div class="event__meta meta">\n                        <div class="meta__item meta__item--lecturer">'+s.name+'</div>\n                        <div class="meta__item meta__item--company">'+s.company+'</div>\n                        <div class="meta__item meta__item--place">'+a+"</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ";return v};